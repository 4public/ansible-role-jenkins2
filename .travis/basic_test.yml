---
##
# Installs and verifies Jenkins on the container being used for the test case. 
##

# Install Java 8.
- hosts: docker_container
  become: true
  vars:
    java_packages: ['openjdk-8-jdk']
  roles:
    # This package name works for:
    # * Ubuntu 16.04.
    - role: geerlingguy.java
      java_packages: ['openjdk-8-jdk']
      when: ansible_distribution == 'Ubuntu'

# Install Jenkins.
- hosts: docker_container
  roles:
    - karlmdavis.jenkins2

# Run some test cases to verify that Jenkins is running as expected.
- include: basic_test_verify.yml
